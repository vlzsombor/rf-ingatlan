diff --git a/src/main/java/hu/IB153I16/ingatlan/controller/HomeController.java b/src/main/java/hu/IB153I16/ingatlan/controller/HomeController.java
index b552aa5..4fb617a 100644
--- a/src/main/java/hu/IB153I16/ingatlan/controller/HomeController.java
+++ b/src/main/java/hu/IB153I16/ingatlan/controller/HomeController.java
@@ -22,17 +22,28 @@ public class HomeController {
     private RealEstateService realEstateService;
 
 
+    String ingatlanTipusArray[]={
+            "Lakas",
+            "Haz",
+            "Ikerhaz",
+            "Nyaralo"
+    };
+
     @GetMapping("/")
-    public String index(Model model, String elado, String kiado, String keyword){
+    public String index(Model model, Integer ingatlanTipus, String telepulesNev){
+        System.out.println("0");
 
-        if(keyword != null){
-            model.addAttribute("realEstates",realEstateService.findByKeyWord(keyword));
+        if(telepulesNev != null && ingatlanTipus != null){
+            model.addAttribute("realEstates",realEstateRepository.findByTelepulesNevAndLakasOption(telepulesNev,ingatlanTipusArray[ingatlanTipus]));
+            System.out.println("telepules ingatlan "+ telepulesNev + " " + ingatlanTipus + " " +ingatlanTipusArray[ingatlanTipus]);
         }
-        else
+        else if(telepulesNev != null)
         {
+            model.addAttribute("realEstates",realEstateService.findByTelepulesNev(telepulesNev));
+        }
+        else{
             model.addAttribute("realEstates",realEstateRepository.findAll());
         }
-
         return "index";
     }
 
diff --git a/src/main/java/hu/IB153I16/ingatlan/controller/RealEstateController.java b/src/main/java/hu/IB153I16/ingatlan/controller/RealEstateController.java
index 5d1063d..349f406 100644
--- a/src/main/java/hu/IB153I16/ingatlan/controller/RealEstateController.java
+++ b/src/main/java/hu/IB153I16/ingatlan/controller/RealEstateController.java
@@ -53,7 +53,8 @@ public class RealEstateController {
 //        return "redirect:/";
 //    }
 
-    @ModelAttribute("realEstate")     public RealEstate realEstateModel(){
+    @ModelAttribute("realEstate")
+    public RealEstate realEstateModel(){
         return new RealEstate();
     }
 
diff --git a/src/main/java/hu/IB153I16/ingatlan/db/DbInit.java b/src/main/java/hu/IB153I16/ingatlan/db/DbInit.java
index 824ad26..1a8b158 100644
--- a/src/main/java/hu/IB153I16/ingatlan/db/DbInit.java
+++ b/src/main/java/hu/IB153I16/ingatlan/db/DbInit.java
@@ -47,8 +47,8 @@ public class DbInit implements CommandLineRunner {
         //public RealEstate(String name, String userName, String address, String description, long price)
         //public RealEstate(String name, User user, String address, String description, Long price) {
         RealEstate re = new RealEstate(1L,"Jo nyaralo", dan ,"Elado", "Haz","Ikerhaz", 12345L,55L, 2L ,1L,"Csongrad",6600L, "Szentes", "Somogyi Bela u", 12L, "Szep takaros haz");
-        RealEstate re1 = new RealEstate(2L,"Szep nyaralo", dan ,"Kiado", "Telek","Epitesi telek",12345L,120L,   4L,1L, "Csongrad",6600L, "Szentes", "Somogyi Bela u", 12L, "Szep takaros haz");
-        RealEstate re2 = new RealEstate(2L,"Szep haz", dan ,"Kiado", "Telek","Kamion parkolo",12345L,72L,3L,1L,"Csongrad",6600L, "Szentes", "Somogyi Bela u", 12L, "Szep takaros haz");
+        RealEstate re1 = new RealEstate(2L,"Szep nyaralo", dan ,"Kiado", "Lakas","Epitesi telek",12345L,120L,   4L,1L, "Csongrad",6600L, "Szentes", "Somogyi Bela u", 12L, "Szep takaros haz");
+        RealEstate re2 = new RealEstate(2L,"Szep haz", dan ,"Kiado", "Lakas","Kamion parkolo",12345L,72L,3L,1L,"Csongrad",6600L, "Szentes", "Somogyi Bela u", 12L, "Szep takaros haz");
 
         List<User> users = Arrays.asList(dan,admin,manager);
         List<RealEstate> realEstates = Arrays.asList(re,re1,re2);
diff --git a/src/main/java/hu/IB153I16/ingatlan/repository/RealEstateRepository.java b/src/main/java/hu/IB153I16/ingatlan/repository/RealEstateRepository.java
index 97277cb..c8d55f4 100644
--- a/src/main/java/hu/IB153I16/ingatlan/repository/RealEstateRepository.java
+++ b/src/main/java/hu/IB153I16/ingatlan/repository/RealEstateRepository.java
@@ -2,6 +2,7 @@ package hu.IB153I16.ingatlan.repository;
 
 import hu.IB153I16.ingatlan.model.RealEstate;
 import org.springframework.data.jpa.repository.JpaRepository;
+import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
 import org.springframework.data.jpa.repository.Query;
 import org.springframework.data.repository.query.Param;
 import org.springframework.stereotype.Repository;
@@ -10,7 +11,14 @@ import java.util.List;
 
 @Repository
 public interface RealEstateRepository extends JpaRepository<RealEstate, Long> {
-    @Query(value="select r from RealEstate r where r.telepulesNev like :keyword% ")
-    List<RealEstate> findByKeyWord(@Param("keyword") String keyword);
+    @Query(value="select r from RealEstate r where r.telepulesNev like :telepulesNev% ")
+    List<RealEstate> findByTelepulesNev(@Param("telepulesNev") String telepulesNev);
+
+    @Query(value="select r from RealEstate r where r.ingatlanTipus = :ingatlanTipus ")
+    List<RealEstate> findBylakasOption(@Param("ingatlanTipus") String ingatlanTipus);
+
+    @Query(value="select r from RealEstate r where r.telepulesNev like :telepulesNev% AND r.ingatlanTipus = :ingatlanTipus")
+    List<RealEstate> findByTelepulesNevAndLakasOption(@Param("telepulesNev") String telepulesNev,
+                                                      @Param("ingatlanTipus") String ingatlanTipus);
 }
 
diff --git a/src/main/java/hu/IB153I16/ingatlan/service/RealEstateService.java b/src/main/java/hu/IB153I16/ingatlan/service/RealEstateService.java
index c722939..92f3f18 100644
--- a/src/main/java/hu/IB153I16/ingatlan/service/RealEstateService.java
+++ b/src/main/java/hu/IB153I16/ingatlan/service/RealEstateService.java
@@ -13,7 +13,7 @@ public class RealEstateService {
     @Autowired
     private RealEstateRepository realEstateRepository;
 
-    public List<RealEstate> findByKeyWord(String keyword){
-        return realEstateRepository.findByKeyWord(StringUtils.capitalize(keyword));
+    public List<RealEstate> findByTelepulesNev(String keyword){
+        return realEstateRepository.findByTelepulesNev(StringUtils.capitalize(keyword));
     }
 }
diff --git a/src/main/resources/templates/fragments.html b/src/main/resources/templates/fragments.html
index 3be0e09..5f806cd 100644
--- a/src/main/resources/templates/fragments.html
+++ b/src/main/resources/templates/fragments.html
@@ -79,16 +79,16 @@
 
     <div class="bg-info d-flex justify-content-center clearfix">
 
-        <form action="" class="form-inline" th:action="@{/}" method="get">
+        <form action="" class="form-inline" th:action="@{/}" method="get" name="elado">
             <div class="p-2 py-2">
                 <div class="custom-control custom-radio">
-                    <input checked class="custom-control-input" id="defaultChecked" name="elado"
+                    <input checked class="custom-control-input" id="defaultChecked"
                            type="checkbox">
                     <label class="custom-control-label" for="defaultChecked">Eladó</label>
                 </div>
 
                 <div class="custom-control custom-radio">
-                    <input checked class="custom-control-input" id="defaultUnchecked" name="kiado" type="checkbox">
+                    <input checked class="custom-control-input" id="defaultUnchecked" type="checkbox">
                     <label class="custom-control-label" for="defaultUnchecked">Kiadó</label>
                 </div>
 
@@ -96,17 +96,17 @@
             <div class="form-group">
                 <div class="input-group">
 
-                    <select class="form-control" id="defaultSelect">
-                        <option selected="" value="Lakas">Lakás</option>
+                    <select class="form-control" id="defaultSelect" name="ingatlanTipus">
+                        <option selected="" value="0">Lakás</option>
                         <option value="1">Ház</option>
-                        <option value="3">Ikerház</option>
-                        <option value="4">Nyaraló</option>
+                        <option value="2">Ikerház</option>
+                        <option value="3">Nyaraló</option>
                     </select>
                 </div>
             </div>
             <div class="form-group">
                 <div class="input-group">
-                    <input id = "txtSearch" class="form-control" name="keyword" placeholder="Város" type="text">
+                    <input id = "txtSearch" class="form-control" name="telepulesNev" placeholder="Város" type="text">
                 </div>
                 <div class="input-group-append">
                     <button type = "submit" class="btn btn-primary"><i class="fa fa-search"></i>
